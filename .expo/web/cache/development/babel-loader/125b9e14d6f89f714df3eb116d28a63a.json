{"ast":null,"code":"import { insertDevice, removeDevice, updateDevices } from \"../../app/store/actions/devicesActions\";\nimport { getDevicesData, updateDevicesData } from \"../../app/store/actions/devicesDataActions\";\nimport { insertUiSyling, removeUiStyling, updateUiStyling } from \"../../app/store/actions/uiStylingActions\";\nexport var socketConnection = function socketConnection(socket, store) {\n  socket.on('connect', function () {\n    console.log('Connected with ID : ', socket.id);\n    socket.on('devices-updated', function (data) {\n      updateDevices(store, data.id, data.meta);\n    });\n    socket.on('devices-removed', function (data) {\n      removeDevice(store, data);\n    });\n    socket.on('devices-inserted', function (data) {\n      insertDevice(store, data);\n      getDevicesData(store);\n    });\n    socket.on('uiStyling-added', function (data) {\n      insertUiSyling(store, data);\n    });\n    socket.on('uiStyling-removed', function (data) {\n      removeUiStyling(store, data);\n    });\n    socket.on('uiStyling-updated', function (data) {\n      updateUiStyling(store, data.id, data.components);\n    });\n    socket.on('devices-values-update', function (data) {\n      updateDevicesData(store, data.id, data.values);\n    });\n  });\n  socket.on('disconnect', function () {\n    console.log('disconnected ');\n  });\n  socket.on('connect_error', function (err) {\n    console.log('error connecting', err);\n    socket.connect();\n  });\n};","map":{"version":3,"sources":["C:/Users/amine/OneDrive/Desktop/PFE/Examples/designTypes/Helpers/Socket/socketConnection.js"],"names":["insertDevice","removeDevice","updateDevices","getDevicesData","updateDevicesData","insertUiSyling","removeUiStyling","updateUiStyling","socketConnection","socket","store","on","console","log","id","data","meta","components","values","err","connect"],"mappings":"AAAA,SACEA,YADF,EAEEC,YAFF,EAGEC,aAHF;AAKA,SACEC,cADF,EAEEC,iBAFF;AAIA,SACEC,cADF,EAEEC,eAFF,EAGEC,eAHF;AAMA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAASC,KAAT,EAAmB;AACjDD,EAAAA,MAAM,CAACE,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCJ,MAAM,CAACK,EAA3C;AACAL,IAAAA,MAAM,CAACE,EAAP,CAAU,iBAAV,EAA6B,UAACI,IAAD,EAAU;AACrCb,MAAAA,aAAa,CAACQ,KAAD,EAAQK,IAAI,CAACD,EAAb,EAAiBC,IAAI,CAACC,IAAtB,CAAb;AACD,KAFD;AAIAP,IAAAA,MAAM,CAACE,EAAP,CAAU,iBAAV,EAA6B,UAACI,IAAD,EAAU;AACrCd,MAAAA,YAAY,CAACS,KAAD,EAAQK,IAAR,CAAZ;AACD,KAFD;AAIAN,IAAAA,MAAM,CAACE,EAAP,CAAU,kBAAV,EAA8B,UAACI,IAAD,EAAU;AACtCf,MAAAA,YAAY,CAACU,KAAD,EAAQK,IAAR,CAAZ;AACAZ,MAAAA,cAAc,CAACO,KAAD,CAAd;AACD,KAHD;AAKAD,IAAAA,MAAM,CAACE,EAAP,CAAU,iBAAV,EAA6B,UAACI,IAAD,EAAU;AACrCV,MAAAA,cAAc,CAACK,KAAD,EAAQK,IAAR,CAAd;AACD,KAFD;AAIAN,IAAAA,MAAM,CAACE,EAAP,CAAU,mBAAV,EAA+B,UAACI,IAAD,EAAU;AACvCT,MAAAA,eAAe,CAACI,KAAD,EAAQK,IAAR,CAAf;AACD,KAFD;AAIAN,IAAAA,MAAM,CAACE,EAAP,CAAU,mBAAV,EAA+B,UAACI,IAAD,EAAU;AACvCR,MAAAA,eAAe,CAACG,KAAD,EAAQK,IAAI,CAACD,EAAb,EAAiBC,IAAI,CAACE,UAAtB,CAAf;AACD,KAFD;AAIAR,IAAAA,MAAM,CAACE,EAAP,CAAU,uBAAV,EAAmC,UAACI,IAAD,EAAU;AAC3CX,MAAAA,iBAAiB,CAACM,KAAD,EAAQK,IAAI,CAACD,EAAb,EAAiBC,IAAI,CAACG,MAAtB,CAAjB;AACD,KAFD;AAID,GA/BD;AAiCAT,EAAAA,MAAM,CAACE,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,GAFD;AAIAJ,EAAAA,MAAM,CAACE,EAAP,CAAU,eAAV,EAA2B,UAACQ,GAAD,EAAS;AAClCP,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCM,GAAhC;AACAV,IAAAA,MAAM,CAACW,OAAP;AACD,GAHD;AAID,CA1CM","sourcesContent":["import {\r\n  insertDevice,\r\n  removeDevice,\r\n  updateDevices,\r\n} from '../../app/store/actions/devicesActions';\r\nimport {\r\n  getDevicesData,\r\n  updateDevicesData,\r\n} from '../../app/store/actions/devicesDataActions';\r\nimport {\r\n  insertUiSyling,\r\n  removeUiStyling,\r\n  updateUiStyling,\r\n} from '../../app/store/actions/uiStylingActions';\r\n\r\nexport const socketConnection = (socket, store) => {\r\n  socket.on('connect', () => {\r\n    console.log('Connected with ID : ', socket.id);\r\n    socket.on('devices-updated', (data) => {\r\n      updateDevices(store, data.id, data.meta);\r\n    });\r\n\r\n    socket.on('devices-removed', (data) => {\r\n      removeDevice(store, data);\r\n    });\r\n\r\n    socket.on('devices-inserted', (data) => {\r\n      insertDevice(store, data);\r\n      getDevicesData(store);\r\n    });\r\n\r\n    socket.on('uiStyling-added', (data) => {\r\n      insertUiSyling(store, data);\r\n    });\r\n\r\n    socket.on('uiStyling-removed', (data) => {\r\n      removeUiStyling(store, data);\r\n    });\r\n\r\n    socket.on('uiStyling-updated', (data) => {\r\n      updateUiStyling(store, data.id, data.components);\r\n    });\r\n\r\n    socket.on('devices-values-update', (data) => {\r\n      updateDevicesData(store, data.id, data.values);\r\n    });\r\n    // x8WIv7-mJelg7on_ALbx\r\n  });\r\n\r\n  socket.on('disconnect', () => {\r\n    console.log('disconnected '); // undefined\r\n  });\r\n\r\n  socket.on('connect_error', (err) => {\r\n    console.log('error connecting', err);\r\n    socket.connect();\r\n  });\r\n};\r\n\r\n// };\r\n"]},"metadata":{},"sourceType":"module"}